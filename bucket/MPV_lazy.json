{
    "version": "20250809",
    "description": "ğŸ”„ mpv player æ’­æ”¾å™¨æŠ˜è…¾è®°å½• windows conf ï¼› ä¸­æ–‡æ³¨é‡Šé…ç½® å¿«é€Ÿå¸®åŠ©å…¥é—¨ ï¼› mpv-lazy æ‡’äººåŒ… win10 x64 config",
    "homepage": "https://github.com/hooke007/MPV_lazy",
    "license": "https://github.com/hooke007/MPV_lazy/blob/main/LICENSE.MD",
    "notes": [
        "mpv lazy",
        "å…³è”æ‰‹å†Œï¼ˆç”¨å‰å¿…è¯»ï¼‰ ğŸ‘‰ ã€Šæ–°æ•´åˆåŒ…çš„å¿«é€Ÿè¯´æ˜ã€‹(https://github.com/hooke007/MPV_lazy/discussions/194)",
        "ä¸æ”¯æŒè‡ªæ›´æ–°ï¼Œå¦‚æœå­˜åœ¨å¾€æœŸçš„ç‰ˆæœ¬ï¼Œä¸è¦ç›´æ¥è§£å‹æ–°ç‰ˆæœ¬è¦†ç›–æ—§æ–‡ä»¶ã€‚",
        "æ‰€ä»¥æ²¡æœ‰å¯¹portable_configè¿›è¡ŒæŒä¹…åŒ–å¤„ç†"
    ],
    "url": "https://github.com/hooke007/MPV_lazy/releases/download/20250809/mpv-lazy-20250809.exe#/dl.7z",
    "hash": "aae41c9ac863f26a3038195ef1b6d89b83b58f41793e50730ddaf71629d2bcbf",
    "extract_dir": "mpv-lazy",
    "bin": "mpv.exe",
    "shortcuts": [
        [
            "mpv.exe",
            "mpv lazy"
        ]
    ],
    "post_install": [
        "'url-protocol-install.reg', 'url-protocol-uninstall.reg' | ForEach-Object {",
        "    $content = Get-Content \"$bucketsdir\\doge\\scripts\\MPV_lazy\\$_\"",
        "    $MPV_PATH = \"$dir\\mpv.exe\".Replace('\\', '\\\\')",
        "    $newContent = $content.Replace(\"{{ PATH_TO_MPV }}\", $MPV_PATH)",
        "    Set-Content \"$dir\\installer\\$_\" $newContent -Encoding Ascii",
        "}",
        "$mpv_installer = \"$dir\\installer\\mpv-install.bat\"",
        "$url_installer = \"$dir\\installer\\url-protocol-install.reg\"",
        "$caption = \"æ˜¯å¦è¦æ‰§è¡Œ'$mpv_installer'?\"",
        "$message = \"è¯¥æ­¥éª¤å°†ä¼šè®¾ç½®æ–‡ä»¶å…³è”\"",
        "$yes = New-Object System.Management.Automation.Host.ChoiceDescription '&Yes', 'æ‰§è¡Œå®‰è£…è„šæœ¬'",
        "$no = New-Object System.Management.Automation.Host.ChoiceDescription '&No', 'å–æ¶ˆæ‰§è¡Œ'",
        "$options = [System.Management.Automation.Host.ChoiceDescription[]]($yes, $no)",
        "$result = $host.UI.PromptForChoice($caption, $message, $options, 1)",
        "if ($result -eq 0) {",
        "   try {",
        "       info 'æ­£åœ¨æ‰§è¡Œå®‰è£…è„šæœ¬...'",
        "       Start-Process -FilePath \"$mpv_installer\" -Verb RunAs -Wait -ErrorAction Stop",
        "       info 'âœ” æ–‡ä»¶å…³è”å·²æˆåŠŸè®¾ç½®'",
        "   } catch {",
        "       error \"æ³¨å†Œè¡¨è®¾ç½®å¤±è´¥: $_\"",
        "   }",
        "} else {",
        "   info 'å·²è·³è¿‡æ³¨å†Œè¡¨è®¾ç½®'",
        "}",
        "$caption = \"æ˜¯å¦è¦æ‰§è¡Œ'$url_installer'?\"",
        "$message = \"è¯¥æ­¥éª¤å°†ä¼šè®¾ç½®ç§æœ‰urlåè®®\"",
        "$yes = New-Object System.Management.Automation.Host.ChoiceDescription '&Yes', 'æ‰§è¡Œå®‰è£…è„šæœ¬'",
        "$no = New-Object System.Management.Automation.Host.ChoiceDescription '&No', 'å–æ¶ˆæ‰§è¡Œ'",
        "$options = [System.Management.Automation.Host.ChoiceDescription[]]($yes, $no)",
        "$result = $host.UI.PromptForChoice($caption, $message, $options, 1)",
        "if ($result -eq 0) {",
        "   try {",
        "       info 'æ­£åœ¨æ‰§è¡Œå®‰è£…è„šæœ¬...'",
        "       Start-Process -FilePath \"reg.exe\" -ArgumentList \"import\", \"$url_installer\" -Verb RunAs -Wait -ErrorAction Stop",
        "       info 'âœ” ç§æœ‰åè®®å·²æˆåŠŸè®¾ç½®'",
        "   } catch {",
        "       error \"æ³¨å†Œè¡¨è®¾ç½®å¤±è´¥: $_\"",
        "   }",
        "} else {",
        "   info 'å·²è·³è¿‡æ³¨å†Œè¡¨è®¾ç½®'",
        "}"
    ],
    "pre_uninstall": [
        "$mpv_reg = \"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\App Paths\\mpv.exe\"",
        "$url_reg = \"HKEY_CLASSES_ROOT\\mpv\"",
        "$mpv_uninstaller = \"$dir\\installer\\mpv-uninstall.bat\"",
        "$url_uninstaller = \"$dir\\installer\\url-protocol-uninstall.reg\"",
        "if ($cmd -eq 'uninstall') {",
        "   if (Test-Path \"Registry::$mpv_reg\") {",
        "       $caption = \"å‘ç°mpvæ³¨å†Œè¡¨æ®‹ç•™\"",
        "       $message = \"æ˜¯å¦è¦æ‰§è¡Œ'$mpv_uninstaller'?\"",
        "       $yes = New-Object System.Management.Automation.Host.ChoiceDescription '&Yes', 'æ‰§è¡Œæ¸…ç†è„šæœ¬'",
        "       $no = New-Object System.Management.Automation.Host.ChoiceDescription '&No', 'å–æ¶ˆæ‰§è¡Œ'",
        "       $options = [System.Management.Automation.Host.ChoiceDescription[]]($yes, $no)",
        "       $result = $host.UI.PromptForChoice($caption, $message, $options, 1)",
        "       if ($result -eq 0) {",
        "           try {",
        "               Start-Process -FilePath \"$mpv_uninstaller\" -Verb RunAs -Wait -ErrorAction Stop",
        "               info \"æ–‡ä»¶å…³è”æ³¨å†Œè¡¨æ¸…ç†å®Œæˆ\"",
        "           } catch {",
        "               error \"æ‰§è¡Œ'$mpv_uninstaller'å¤±è´¥: $_\"",
        "           }",
        "       } else {",
        "           info \"å·²è·³è¿‡æ³¨å†Œè¡¨æ¸…ç†\"",
        "       }",
        "   }",
        "   if (Test-Path \"Registry::$url_reg\") {",
        "       $caption = \"å‘ç°mpvæ³¨å†Œè¡¨æ®‹ç•™\"",
        "       $message = \"æ˜¯å¦è¦æ‰§è¡Œ'$url_uninstaller'?\"",
        "       $yes = New-Object System.Management.Automation.Host.ChoiceDescription '&Yes', 'æ‰§è¡Œæ¸…ç†è„šæœ¬'",
        "       $no = New-Object System.Management.Automation.Host.ChoiceDescription '&No', 'å–æ¶ˆæ‰§è¡Œ'",
        "       $options = [System.Management.Automation.Host.ChoiceDescription[]]($yes, $no)",
        "       $result = $host.UI.PromptForChoice($caption, $message, $options, 1)",
        "       if ($result -eq 0) {",
        "           try {",
        "               Start-Process -FilePath \"reg.exe\" -ArgumentList \"import\", \"$url_uninstaller\" -Verb RunAs -Wait -ErrorAction Stop",
        "               info \"ç§æœ‰åè®®æ³¨å†Œè¡¨æ¸…ç†å®Œæˆ\"",
        "           } catch {",
        "               error \"æ‰§è¡Œ'$url_uninstaller'å¤±è´¥: $_\"",
        "           }",
        "       } else {",
        "           info \"å·²è·³è¿‡æ³¨å†Œè¡¨æ¸…ç†\"",
        "       }",
        "   }",
        "}"
    ],
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/hooke007/MPV_lazy/releases/download/$version/mpv-lazy-$version.exe#/dl.7z",
        "hash": {
            "url": "https://github.com/hooke007/MPV_lazy/releases/latest",
            "regex": "<td>æ ‡å‡†ç‰ˆæœ¬</td>\\s+<td><code>$sha256</code></td>"
        }
    }
}
