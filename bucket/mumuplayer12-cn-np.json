{
    "version": "4.0.0.3179",
    "description": "MuMu模拟器12 大屏超级炫 手游不受限 安卓12 | 标签拖动分屏 | 自定义应用保活 | 自由多开",
    "homepage": "https://mumu.163.com",
    "license": {
        "identifier": "Freeware",
        "url": "https://mumu.163.com/sdk/privacy/index.html"
    },
    "architecture": {
        "64bit": {
            "url": "http://a11.gdl.netease.com/MuMuNG-setup-V4.0.0.3179-0727020112.exe#/setup.exe",
            "hash": "md5:a8d2928c1aab11d1371ced2bbd1448c4"
        }
    },
    "installer": {
        "script": [
            "if (!(is_admin)) { \"$app requires admin rights to $cmd\"; break }",
            "Start-Process -Wait \"$dir\\setup.exe\" \"/S /auto_start=false /fchannel=nochannel-mumu12 /D=C:\\Program Files\\Netease\\MuMuPlayer-12.0\" -Verb RunAs",
            "Remove-Item \"$Env:USERPROFILE\\Desktop\\MuMu*12.lnk\""
        ]
    },
    "uninstaller": {
        "script": [
            "if (!(is_admin)) { \"$app requires admin rights to $cmd\"; break }",
            "elseif ($cmd -eq \"uninstall\") {",
            "    $uninstaller = (Get-ItemProperty -ErrorAction Ignore \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\MuMuPlayer-12.0\" -Name UninstallString).UninstallString",
            "    if (!$uninstaller) { $uninstaller = (Get-ItemProperty -ErrorAction Ignore \"HKLM:\\SOFTWARE\\Wow6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\MuMuPlayer-12.0\" -Name UninstallString).UninstallString }",
            "    if (!$uninstaller) { warn 'Could not find app info in registry' }",
            "    # Remove the quotation on both sides",
            "    $uninstaller = $uninstaller.Substring(1, $uninstaller.Length - 2)",
            "    Start-Process -Wait \"$uninstaller\" \"/S \" -Verb RunAs",
            "}"
        ]
    },
    "checkver": {
        "script": [
            "$url = \"https://mumu.nie.netease.com/api/v1/download/nemux?architecture=x86_64&machine=%22%22&usage=0\"",
            "$response = Invoke-RestMethod -Uri $url -Method Post",
            "Write-Output $response.data.mumu.version $response.data.mumu.checksum $response.data.mumu.link"
        ],
        "regex": "([\\d.]+)\\s([A-Z\\d]{32})\\s(.*)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "$match3#/setup.exe",
                "hash": {
                    "url": "http://httpbin.org/get?md5=$match2",
                    "regex": "md5=.*?$md5"
                }
            }
        }
    }
}
