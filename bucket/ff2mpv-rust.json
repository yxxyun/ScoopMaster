{
    "version": "1.1.7",
    "description": "Native messaging host for ff2mpv written in Rust.",
    "homepage": "https://github.com/ryze312/ff2mpv-rust",
    "license": "GPL-3.0 license",
    "notes": [
        "Firefox addons: https://addons.mozilla.org/en-US/firefox/addon/ff2mpv/",
        "Chrome store: https://chrome.google.com/webstore/detail/ff2mpv/ephjcajbkgplkjmelpglennepbpmdpjg",
        "For other browsers manual installation: https://github.com/woodruffw/ff2mpv/wiki/Installation-on-Windows"
    ],
    "url": "https://github.com/ryze312/ff2mpv-rust/releases/download/1.1.7/ff2mpv-rust-x86_64-pc-windows-gnu.exe",
    "hash": "49de8c2f30b07c6b6dad790b535b043ddd7f7ea8d1f60aeff9a99ddd98f3fd2f",
    "pre_install": "Get-ChildItem $dir\\ff2mpv*.exe | Select-Object -First 1 | Rename-Item -NewName 'ff2mpv.exe'",
    "post_install": [
        "& $dir\\ff2mpv.exe manifest | Out-File -FilePath \"$dir\\ff2mpv-firefox.json\"",
        "New-Item -Path \"HKCU:\\SOFTWARE\\Mozilla\\NativeMessagingHosts\\ff2mpv\" -Force | Out-Null",
        "Set-ItemProperty -Path \"HKCU:\\SOFTWARE\\Mozilla\\NativeMessagingHosts\\ff2mpv\" -Name \"(default)\" -Value \"$dir\\ff2mpv-firefox.json\" -Force",
        "& $dir\\ff2mpv.exe manifest_chromium | Out-File -FilePath \"$dir\\ff2mpv-chromium.json\"",
        "New-Item -Path \"HKCU:\\SOFTWARE\\Google\\Chrome\\NativeMessagingHosts\\ff2mpv\" -Force | Out-Null",
        "Set-ItemProperty -Path \"HKCU:\\SOFTWARE\\Google\\Chrome\\NativeMessagingHosts\\ff2mpv\" -Name \"(default)\" -Value \"$dir\\ff2mpv-chromium.json\" -Force",
        "New-Item -Path \"HKCU:\\SOFTWARE\\Chromium\\NativeMessagingHosts\\ff2mpv\" -Force | Out-Null",
        "Set-ItemProperty -Path \"HKCU:\\SOFTWARE\\Chromium\\NativeMessagingHosts\\ff2mpv\" -Name \"(default)\" -Value \"$dir\\ff2mpv-chromium.json\" -Force",
        "New-Item -Path \"HKCU:\\SOFTWARE\\Microsoft\\Edge\\NativeMessagingHosts\\ff2mpv\" -Force | Out-Null",
        "Set-ItemProperty -Path \"HKCU:\\SOFTWARE\\Microsoft\\Edge\\NativeMessagingHosts\\ff2mpv\" -Name \"(default)\" -Value \"$dir\\ff2mpv-chromium.json\" -Force"
    ],
    "uninstaller": {
        "script": [
            "Remove-Item -Path \"HKCU:\\SOFTWARE\\Mozilla\\NativeMessagingHosts\\ff2mpv\" -Recurse -Force",
            "Remove-Item -Path \"HKCU:\\SOFTWARE\\Google\\Chrome\\NativeMessagingHosts\\ff2mpv\" -Recurse -Force",
            "Remove-Item -Path \"HKCU:\\SOFTWARE\\Chromium\\NativeMessagingHosts\\ff2mpv\" -Recurse -Force",
            "Remove-Item -Path \"HKCU:\\SOFTWARE\\Microsoft\\Edge\\NativeMessagingHosts\\ff2mpv\" -Recurse -Force"
        ]
    },
    "bin": "ff2mpv.exe",
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/ryze312/ff2mpv-rust/releases/download/$version/ff2mpv-rust-x86_64-pc-windows-gnu.exe"
    }
}
