{
    "version": "25.01-v1.5.7-R4",
    "description": "Additional Codecs for 7-Zip including Zstandard, Brotli, Lz4, Lz5 and Lizard",
    "homepage": "https://github.com/mcmilk/7-Zip-zstd",
    "license": "LGPL-2.1-only",
    "suggest": {
        "7-Zip": "main/7zip"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/mcmilk/7-Zip-zstd/releases/download/v25.01-v1.5.7-R4/Codecs-x64.7z",
            "hash": "35d1cda34f51f52a2e9a6736f7568bc60ec73c04d6c01f8d566f5cc05b229f31"
        },
        "32bit": {
            "url": "https://github.com/mcmilk/7-Zip-zstd/releases/download/v25.01-v1.5.7-R4/Codecs-x32.7z",
            "hash": "bdc8d90f366267896d09bfb15e81ec461c6eb62943d4d680b9b43acda6b2f387"
        },
        "arm64": {
            "url": "https://github.com/mcmilk/7-Zip-zstd/releases/download/v25.01-v1.5.7-R4/Codecs-arm64.7z",
            "hash": "ac61f20c5edd883f90485456bbdb4a32855fff30572e3b27c675ab10189c3b08"
        }
    },
    "installer": {
        "script": [
            "$7zipDir = $(appdir 7zip $global)",
            "if (Test-Path \"$7zipDir\\current\") {",
            "    $DestDir = \"$7zipDir\\current\\Codecs\"",
            "    if (-not (Test-Path \"$DestDir\")) {",
            "        New-Item \"$DestDir\" -ItemType Directory -Force | Out-Null",
            "    }",
            "    Write-Host \"Copying Codec files to 7-Zip directory...\" -ForegroundColor Cyan",
            "    Copy-Item \"$dir\\*\" \"$DestDir\" -Recurse -Force",
            "} else {",
            "    Write-Warning \"7-Zip installation not found. Please install 7zip first.\"",
            "}"
        ]
    },
    "checkver": {
        "url": "https://api.github.com/repositories/61958135/releases",
        "jsonpath": "$[0].tag_name",
        "regex": "^v(?<version>.*)$"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/mcmilk/7-Zip-zstd/releases/download/v$version/Codecs-x64.7z"
            },
            "32bit": {
                "url": "https://github.com/mcmilk/7-Zip-zstd/releases/download/v$version/Codecs-x32.7z"
            },
            "arm64": {
                "url": "https://github.com/mcmilk/7-Zip-zstd/releases/download/v$version/Codecs-arm64.7z"
            }
        }
    }
}
