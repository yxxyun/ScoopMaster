{
    "version": "144.0.7559.110",
    "description": "Google Chrome (portable) with Chrome++ support via persist.",
    "homepage": "https://www.google.com/chrome/",
    "license": {
        "identifier": "Freeware",
        "url": "https://www.google.com/chrome/terms/"
    },

    "architecture": {
        "64bit": {
            "url": "https://dl.google.com/release2/chrome/ew64l42idv7ya4fzpsashmcdzy_144.0.7559.110/144.0.7559.110_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "da7750bd4c928c38314f574a740901adc3fead652811e4ee25c48c6968a5ecb0"
        },
        "32bit": {
            "url": "https://dl.google.com/release2/chrome/acq3fpl7c5bpdozphmsyqe54txka_144.0.7559.110/144.0.7559.110_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "9e3ee33c20bc77a72f956cdb69c6daf0ce2bb88a2b1c8de993799d05b28cda66"
        },
        "arm64": {
            "url": "https://dl.google.com/release2/chrome/alpvn67upllcxk7oys2sn5cvaq_144.0.7559.110/144.0.7559.110_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "f39f7360debf77c1081d54691cc62b09f1d2c8681194435958453025a7b38629"
        }
    },

    "extract_dir": "Chrome-bin",

    "bin": [
        ["chrome.exe", "chrome"]
    ],

    "shortcuts": [
        ["chrome.exe", "Google Chrome"]
    ],

    "env_set": {
        "CHROME_EXECUTABLE": "$dir\\chrome.exe"
    },

    "persist": [
        "version.dll",
        "chrome++.ini"
    ],

    "checkver": {
        "script": [
            "$AppID = '{8A69D345-D564-463C-AFF1-A69D9E530F96}'",
            "$Body = @(",
            "  '<?xml version=\"1.0\" encoding=\"utf-8\"?>',",
            "  '<request protocol=\"3.0\">',",
            "  '  <os platform=\"win\" version=\"10.0.22000\" arch=\"x64\"/>',",
            "  \"  <app appid=\\\"$AppID\\\" ap=\\\"x64-stable\\\" version=\\\"\\\">\",",
            "  '    <updatecheck/>',",
            "  '  </app>',",
            "  '</request>'",
            ") -join \"`n\"",
            "(Invoke-RestMethod -Method Post -Uri 'https://update.googleapis.com/service/update2' -Body $Body).response.app.updatecheck.manifest.version"
        ],
        "regex": "([\\d.]+)"
    },

    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://dl.google.com/release2/chrome/$matchVersion#/dl.7z"
            },
            "32bit": {
                "url": "https://dl.google.com/release2/chrome/$matchVersion#/dl.7z"
            },
            "arm64": {
                "url": "https://dl.google.com/release2/chrome/$matchVersion#/dl.7z"
            }
        }
    }
}
