{
  "version": "1.3.32",
  "architecture": {
    "64bit": {
      "url": "https://github.com/warpdl/warpdl/releases/download/v1.3.32/warpdl_1.3.32_windows_amd64.zip",
      "bin": [
        "warpdl.exe"
      ],
      "hash": "c532c2457ae8c8b87569b333240824a1bb2cc5ab818a8d0d3e059b3fb1658079"
    },
    "arm64": {
      "url": "https://github.com/warpdl/warpdl/releases/download/v1.3.32/warpdl_1.3.32_windows_arm64.zip",
      "bin": [
        "warpdl.exe"
      ],
      "hash": "b1b0aa2ad65b63e9e6c1c3eed33cbc9687311f862522a26e7bf3ed67cbaf71c1"
    }
  },
  "homepage": "https://github.com/warpdl/warpdl",
  "description": "The official Warp CLI download manager",
  "post_install": [
    "$warpdl = Join-Path $dir \"warpdl.exe\"",
    "& $warpdl native-host install --auto 2>$null"
  ],
  "pre_uninstall": [
    "& (Join-Path $dir \"warpdl.exe\") native-host uninstall --browser all 2>$null",
    "$pidFile = Join-Path $env:APPDATA \"warpdl\\daemon.pid\"",
    "if (Test-Path $pidFile) {",
    "  $pid = Get-Content $pidFile -ErrorAction SilentlyContinue",
    "  if ($pid) {",
    "    try { Stop-Process -Id $pid -Force -ErrorAction SilentlyContinue } catch {}",
    "  }",
    "  Remove-Item $pidFile -Force -ErrorAction SilentlyContinue",
    "}",
    "Write-Host \"WarpDL daemon stopped.\""
  ]
}
