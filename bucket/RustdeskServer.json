{
    "version": "1.1.14",
    "license": "https://github.com/rustdesk/rustdesk-server/blob/master/LICENSE",
    "extract_dir": "x86_64",
    "url": "https://github.com/rustdesk/rustdesk-server/releases/download/1.1.14/rustdesk-server-windows-x86_64-unsigned.zip",
    "depends": "nssm",
    "homepage": "https://rustdesk.com/zh/",
    "hash": "dd69552a574f12ed9a6b238d7405c148a3a1f645a827742296a863279efa9939",
    "post_install": [
        "Remove-Item \"$dir\\RustDeskServer.Setup.exe\"",
        "nssm install \"RustDesk hbbs service\" \"$dir\\hbbs.exe\" -r 0.0.0.0 -k _",
        "nssm install \"RustDesk hbbr service\" \"$dir\\hbbr.exe\" -k _",
        "netsh advfirewall firewall add rule name=rustdesk-server dir=in action=allow protocol=TCP localport=21115-21119",
        "netsh advfirewall firewall add rule name=rustdesk-server-udp dir=in action=allow protocol=UDP localport=21116",
        "nssm start \"RustDesk hbbs service\"",
        "nssm start \"RustDesk hbbr service\"",
        "echo \"-------- PUBLIC KEY --------\"",
        "Get-Content \"$dir\\id_ed25519.pub\""
    ],
    "pre_uninstall": [
        "netsh advfirewall firewall delete rule name=rustdesk-server",
        "netsh advfirewall firewall delete rule name=rustdesk-server-udp",
        "nssm stop \"RustDesk hbbs service\"",
        "nssm stop \"RustDesk hbbr service\"",
        "nssm remove \"RustDesk hbbs service\" confirm",
        "nssm remove \"RustDesk hbbr service\" confirm"
    ],
    "notes": [
        "nssm edit \"RustDesk hbbs service\"",
        "nssm edit \"RustDesk hbbr service\""
    ],
    "checkver": {
        "github": "https://github.com/rustdesk/rustdesk-server"
    },
    "autoupdate": {
        "url": "https://github.com/rustdesk/rustdesk-server/releases/download/$version/rustdesk-server-windows-x86_64-unsigned.zip"
    }
}
