{
    "version": "1125.01.20251111.8bee68e",
    "description": "Utility to explore combat mechanics in the popular MMORPG World of Warcraft",
    "homepage": "https://www.simulationcraft.org/",
    "license": "GPL-3.0-only",
    "architecture": {
        "64bit": {
            "url": "http://downloads.simulationcraft.org/nightly/simc-1125.01.8bee68e-win64.7z",
            "hash": "eb7c0c3c069817715dce5de4e326aedfcaba9e66c177153c69077d1da372b396",
            "extract_dir": "simc-1125.01.8bee68e-win64"
        },
        "arm64": {
            "url": "http://downloads.simulationcraft.org/nightly/simc-1125.01.8bee68e-winarm64.7z",
            "hash": "f4c49af86ec0139ed9be1767af4a0e4e9c7b469b66e51e52216da4e16b9ad1fe",
            "extract_dir": "simc-1125.01.8bee68e-winarm64"
        }
    },
    "shortcuts": [
        [
            "SimulationCraft.exe",
            "SimulationCraft"
        ]
    ],
    "bin": "simc.exe",
    "checkver": {
        "script": [
            "try {",
            "    $resp = Invoke-WebRequest 'http://downloads.simulationcraft.org/nightly/?C=M;O=D'",
            "    # scrape information from a line like 'ms.date: 12/16/2024'",
            "    $lines = $resp.Content.Split([Environment]::NewLine)",
            "    $lines | Select-String -Pattern 'simc-(?<realVersion>\\d{3,}\\.\\d{2,}\\.[a-fA-F0-9]{7})-(?<arch>win(?:arm)?64)\\.7z\\s*</a>.*(?<date>\\d{4}-\\d{2}-\\d{2})' | Foreach-Object { \"version: $($_.Matches[0].Groups[\"realVersion\"]) xxx arch: $($_.Matches[0].Groups[\"arch\"]) xxx date: $($_.Matches[0].Groups[\"date\"])\" } | Write-Output",
            "} catch {",
            "    throw $_.Exception",
            "}"
        ],
        "regex": "version: (?<major>\\d{3,}\\.\\d{2,})\\.(?<minor>[a-fA-F0-9]{7}) xxx arch: (?<arch>win(?:arm)?64) xxx date: (?<year>\\d{4})-(?<month>\\d{2})-(?<day>\\d{2})",
        "replace": "${major}.${year}${month}${day}.${minor}"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "http://downloads.simulationcraft.org/nightly/simc-$matchMajor.$matchMinor-win64.7z",
                "extract_dir": "simc-$matchMajor.$matchMinor-win64"
            },
            "arm64": {
                "url": "http://downloads.simulationcraft.org/nightly/simc-$matchMajor.$matchMinor-winarm64.7z",
                "extract_dir": "simc-$matchMajor.$matchMinor-winarm64"
            }
        }
    }
}
