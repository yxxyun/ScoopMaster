{
    "version": "1115.02.20250703.2d011b2",
    "description": "Utility to explore combat mechanics in the popular MMORPG World of Warcraft",
    "homepage": "https://www.simulationcraft.org/",
    "license": "GPL-3.0-only",
    "architecture": {
        "64bit": {
            "url": "http://downloads.simulationcraft.org/nightly/simc-1115.02.2d011b2-win64.7z",
            "hash": "7f7e6f4e401d9d6e3f7af15ea31d647c546d025faede768f5094dea789212e9d",
            "extract_dir": "simc-1115.02.2d011b2-win64"
        },
        "arm64": {
            "url": "http://downloads.simulationcraft.org/nightly/simc-1115.02.2d011b2-winarm64.7z",
            "hash": "82d8e89c8514b02bf327e05cb78d1e531eb37c6ab26d5443cd25e58ea069d1b2",
            "extract_dir": "simc-1115.02.2d011b2-winarm64"
        }
    },
    "shortcuts": [
        [
            "SimulationCraft.exe",
            "SimulationCraft"
        ]
    ],
    "bin": "simc.exe",
    "checkver": {
        "script": [
            "try {",
            "    $resp = Invoke-WebRequest 'http://downloads.simulationcraft.org/nightly/?C=M;O=D'",
            "    # scrape information from a line like 'ms.date: 12/16/2024'",
            "    $lines = $resp.Content.Split([Environment]::NewLine)",
            "    $lines | Select-String -Pattern 'simc-(?<realVersion>\\d{3,}\\.\\d{2,}\\.[a-fA-F0-9]{7})-(?<arch>win(?:arm)?64)\\.7z\\s*</a>.*(?<date>\\d{4}-\\d{2}-\\d{2})' | Foreach-Object { \"version: $($_.Matches[0].Groups[\"realVersion\"]) xxx arch: $($_.Matches[0].Groups[\"arch\"]) xxx date: $($_.Matches[0].Groups[\"date\"])\" } | Write-Output",
            "} catch {",
            "    throw $_.Exception",
            "}"
        ],
        "regex": "version: (?<major>\\d{3,}\\.\\d{2,})\\.(?<minor>[a-fA-F0-9]{7}) xxx arch: (?<arch>win(?:arm)?64) xxx date: (?<year>\\d{4})-(?<month>\\d{2})-(?<day>\\d{2})",
        "replace": "${major}.${year}${month}${day}.${minor}"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "http://downloads.simulationcraft.org/nightly/simc-$matchMajor.$matchMinor-win64.7z",
                "extract_dir": "simc-$matchMajor.$matchMinor-win64"
            },
            "arm64": {
                "url": "http://downloads.simulationcraft.org/nightly/simc-$matchMajor.$matchMinor-winarm64.7z",
                "extract_dir": "simc-$matchMajor.$matchMinor-winarm64"
            }
        }
    }
}
