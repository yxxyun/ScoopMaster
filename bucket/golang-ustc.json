{
    "version": "1.25.6",
    "homepage": "https://golang.org",
    "description": "An open source programming language that makes it easy to build simple, reliable, and efficient software.",
    "license": "BSD-3-Clause",
    "extract_dir": "go",
    "env_set": {
        "GOROOT": "$dir"
    },
    "bin": [
        "bin/go.exe",
        "bin/gofmt.exe"
    ],
    "architecture": {
        "64bit": {
            "url": "https://mirrors.ustc.edu.cn/golang/go1.25.6.windows-amd64.zip",
            "hash": "19b4733b727ba5c611b5656187f3ac367d278d64c3d4199a845e39c0fdac5335"
        },
        "32bit": {
            "url": "https://mirrors.ustc.edu.cn/golang/go1.25.6.windows-386.zip",
            "hash": "873da5cec02b6657ecd5b85e562a38fb5faf1b6e9ea81b2eb0b9a9b5aea5cb35"
        },
        "arm64": {
            "url": "https://mirrors.ustc.edu.cn/golang/go1.25.6.windows-arm64.zip",
            "hash": "8f2d8e6dd0849a2ec0ade1683bcfb7809e64d264a4273d8437841000a28ffb60"
        }
    },
    "checkver": {
        "url": "https://go.dev/dl/",
        "regex": "go([\\d.]+)\\."
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://mirrors.ustc.edu.cn/golang/go$version.windows-amd64.zip"
            },
            "32bit": {
                "url": "https://mirrors.ustc.edu.cn/golang/go$version.windows-386.zip"
            },
            "arm64": {
                "url": "https://mirrors.ustc.edu.cn/golang/go$version.windows-arm64.zip"
            }
        },
        "hash": {
            "url": "https://go.dev/dl/",
            "regex": "(?sm)$basename+.*?([a-f0-9]{64})"
        }
    },
    "post_install": [
        "if (!(Test-Path \"$dir\\pkg\\tool\\$env:GOOS_$env:GOARCH\")) {",
        "    Write-Host 'Creating symbolic link for current platform tools...'",
        "    New-Item -ItemType SymbolicLink -Path \"$dir\\pkg\\tool\\$env:GOOS_$env:GOARCH\" -Target \"$dir\\pkg\\tool\\$(go env GOOS)_$(go env GOARCH)\" | Out-Null",
        "}",
        "$currentPrincipal = New-Object Security.Principal.WindowsPrincipal([Security.Principal.WindowsIdentity]::GetCurrent())",
        "$isAdmin = $currentPrincipal.IsInRole([Security.Principal.WindowsBuiltInRole]::Administrator)",
        "if ($isAdmin) {",
        "    Write-Host 'Setting GOPROXY to https://goproxy.io,direct for all users...'",
        "    [Environment]::SetEnvironmentVariable('GOPROXY', 'https://goproxy.io,direct', [EnvironmentVariableTarget]::Machine)",
        "} else {",
        "    Write-Host 'Setting GOPROXY to https://goproxy.io,direct for current user...'",
        "    [Environment]::SetEnvironmentVariable('GOPROXY', 'https://goproxy.io,direct', [EnvironmentVariableTarget]::User)",
        "}"
    ],
    "notes": [
        "Your GOROOT has been set to: $dir",
        "You can run 'go env GOROOT' to view this at any time."
    ]
}
