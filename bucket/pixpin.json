{
    "version": "1.9.10.0",
    "description": "(Beta version) A powerful screenshot tool with Annotation,Pin to Screen, Scroll Screenshot, OCR and GIF features.",
    "homepage": "https://pixpinapp.com/",
    "license": "Proprietary",
    "url": "https://download.pixpinapp.com/PixPin_1.9.10.0.zip",
    "hash": "abddd6c3e97a2a7a9f7a08e3bd1e8b6f11bb66ebb7cd6dea6d99302e097bee5a",
    "extract_dir": "PixPin",
    "bin": [
        [
            "PixPin.exe",
            "pixpin"
        ]
    ],
    "shortcuts": [
        [
            "PixPin.exe",
            "PixPin"
        ]
    ],
    "persist": [
        "Config",
        "Data",
        "History",
        "PixPin.exe.WebView2\\EBWebView\\Local State"
    ],
    "pre_install": [
        "Import-Module $(Join-Path $(Find-BucketDirectory -Root -Name air) scripts/AirUtils.psm1)",
        "EnsureFile \"$persist_dir\\PixPin.exe.WebView2\\EBWebView\\Local State\"",
        "Remove-Module -Name AirUtils"
    ],
    "checkver": {
        "script": [
            "$timestamp = [DateTimeOffset]::UtcNow.ToUnixTimeMilliseconds()",
            "$url = \"https://api.viewdepth.cn/app_info?app_id=pixpin&update_type=1&sys=win&ts=$timestamp\"",
            "$response = Invoke-WebRequest -Uri $url | ConvertFrom-Json",
            "return $response.ver_info.version"
        ],
        "regex": "(.*)"
    },
    "autoupdate": {
        "url": "https://download.pixpinapp.com/PixPin_$version.zip",
        "hash": {
            "url": "https://pixpinapp.com/change-log/$majorVersion.$minorVersion.$patchVersion",
            "regex": "<strong>Windows便携版</strong>:\\s+$sha1"
        }
    }
}
