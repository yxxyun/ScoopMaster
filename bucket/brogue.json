{
    "$schema": "https://raw.githubusercontent.com/ScoopInstaller/Scoop/master/schema.json",
    "version": "1.15.1",
    "description": "Brogue: Community Edition - a single-player roguelike strategy game.",
    "homepage": "https://github.com/tmewett/BrogueCE",
    "license": "AGPL-3.0-only",
    "architecture": {
        "64bit": {
            "url": "https://github.com/tmewett/BrogueCE/releases/download/v1.15.1/BrogueCE-1.15.1-windows-x86_64.zip",
            "hash": "29dcbae1791156a040c9125d0a28ae97d67a09b22a52266af1c65e2918bede5f",
            "extract_dir": "BrogueCE-windows"
        }
    },
    "bin": [
        [
            "brogue-cmd.bat",
            "brogue",
            "--data-dir",
            "$dir\\assets"
        ]
    ],
    "post_install": [
        "$file = Join-Path $dir 'brogue-cmd.bat'",
        "(Get-Content -Raw $file) -replace \"brogue\\.exe %\\*\", '\"%~dp0brogue.exe\" %*' | Set-Content $file -NoNewline"
    ],
    "shortcuts": [
        [
            "brogue.exe",
            "Brogue CE"
        ]
    ],
    "persist": "keymap.txt",
    "checkver": {
        "github": "https://github.com/tmewett/BrogueCE"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/tmewett/BrogueCE/releases/download/v$version/BrogueCE-$version-windows-x86_64.zip"
            }
        },
        "hash": {
            "mode": "download"
        }
    }
}
