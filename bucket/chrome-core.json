{
    "version": "144.0.7559.97",
    "description": "Automatically fetch Google Chrome offline installer using GitHub Actions",
    "homepage": "https://github.com/Bush2021/chrome_installer",
    "license": "MIT",
    "depends": "chrome-plus",
    "notes": "This package acts as a binary provider. It downloads and injects the official Google Chrome binaries directly into the 'rojem/chrome-plus' installation directory. It strictly requires 'chrome-plus' to be installed first.",
    "architecture": {
        "64bit": {
            "url": "https://github.com/Bush2021/chrome_installer/releases/download/144.0.7559.97/x64_144.0.7559.97_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "735a35cd041a9d03faecf3d85e85d7d4e063cfd26efc67727ddaa2b221874b2d"
        },
        "32bit": {
            "url": "https://github.com/Bush2021/chrome_installer/releases/download/144.0.7559.97/x86_144.0.7559.97_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "ccb509b39ed3a42edeb98414b17affe1c76cd636a7ceac14f662988fa30822c5"
        },
        "arm64": {
            "url": "https://github.com/Bush2021/chrome_installer/releases/download/144.0.7559.97/arm64_144.0.7559.97_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "618830582d82f6b8c44ebe8010b67b93ae4ef3027278f616dd7ee7c2211db1bd"
        }
    },
    "installer": {
        "script": [
            "$cp_root = $(appdir chrome-plus $global)",
            "if (Test-Path \"$cp_root\\current\") {",
            "    $dest_app = \"$cp_root\\current\\App\"",
            "    if (-not (Test-Path \"$dest_app\")) {",
            "        New-Item \"$dest_app\" -ItemType Directory -Force | Out-Null",
            "    }",
            "    ",
            "    Write-Host \"Cleaning up old Chrome versions...\" -ForegroundColor Yellow",
            "    Get-ChildItem -Path \"$dest_app\" -Directory | Where-Object { $_.Name -match '^\\d+\\.\\d+\\.\\d+\\.\\d+$' } | Remove-Item -Recurse -Force",
            "    ",
            "    Write-Host \"Merging new Chrome binaries...\" -ForegroundColor Cyan",
            "    Move-Item \"$dir\\Chrome-bin\\*\" \"$dest_app\" -Force",
            "    ",
            "    Remove-Item \"$dir\\Chrome-bin\" -Force",
            "    ",
            "    Write-Host \"Chrome binaries injected successfully. The fake placeholder has been overwritten.\" -ForegroundColor Green",
            "} else {",
            "    Write-Warning \"chrome-plus installation not found. Binaries NOT moved.\"",
            "}"
        ]
    },
    "uninstaller": {
        "script": [
            "$cp_root = $(appdir chrome-plus $global)",
            "if (Test-Path \"$cp_root\\current\\App\") {",
            "    $dest_app = \"$cp_root\\current\\App\"",
            "    Write-Host \"Removing Chrome binaries from chrome-plus...\" -ForegroundColor Yellow",
            "    if (Test-Path \"$dest_app\\chrome.exe\") { Remove-Item \"$dest_app\\chrome.exe\" -Force }",
            "    Get-ChildItem -Path \"$dest_app\" -Directory | Where-Object { $_.Name -match '^\\d+\\.\\d+\\.\\d+\\.\\d+$' } | Remove-Item -Recurse -Force",
            "    if (Test-Path \"$dest_app\\chrome_proxy.exe\") { Remove-Item \"$dest_app\\chrome_proxy.exe\" -Force }",
            "}"
        ]
    },
    "checkver": "github",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/Bush2021/chrome_installer/releases/download/$version/x64_$version_chrome_installer_uncompressed.exe#/dl.7z"
            },
            "32bit": {
                "url": "https://github.com/Bush2021/chrome_installer/releases/download/$version/x86_$version_chrome_installer_uncompressed.exe#/dl.7z"
            },
            "arm64": {
                "url": "https://github.com/Bush2021/chrome_installer/releases/download/$version/arm64_$version_chrome_installer_uncompressed.exe#/dl.7z"
            }
        }
    }
}
