{
    "version": "145.0.7632.76",
    "description": "Automatically fetch Google Chrome offline installer using GitHub Actions",
    "homepage": "https://github.com/Bush2021/chrome_installer",
    "license": "MIT",
    "depends": "chrome-plus",
    "notes": "This package acts as a binary provider. It downloads and injects the official Google Chrome binaries directly into the 'rojem/chrome-plus' installation directory. It strictly requires 'chrome-plus' to be installed first.",
    "architecture": {
        "64bit": {
            "url": "https://github.com/Bush2021/chrome_installer/releases/download/145.0.7632.76/x64_145.0.7632.76_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "d695b679de3326c3503d9d7c975a92b74ecebda4e5d740072bcfca6d207affea"
        },
        "32bit": {
            "url": "https://github.com/Bush2021/chrome_installer/releases/download/145.0.7632.76/x86_145.0.7632.76_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "7e42aba81138f4ac82501f78c255aba2b5b4c555a47835b28ae0dae371796501"
        },
        "arm64": {
            "url": "https://github.com/Bush2021/chrome_installer/releases/download/145.0.7632.76/arm64_145.0.7632.76_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "01379c1655671726aeeee0dbdbc536a131fcfde9323128e3ded3bc6ee583f167"
        }
    },
    "installer": {
        "script": [
            "$cp_root = $(appdir chrome-plus $global)",
            "if (Test-Path \"$cp_root\\current\") {",
            "    $dest_app = \"$cp_root\\current\\App\"",
            "    if (-not (Test-Path \"$dest_app\")) {",
            "        New-Item \"$dest_app\" -ItemType Directory -Force | Out-Null",
            "    }",
            "    ",
            "    Write-Host \"Cleaning up old Chrome versions...\" -ForegroundColor Yellow",
            "    Get-ChildItem -Path \"$dest_app\" -Directory | Where-Object { $_.Name -match '^\\d+\\.\\d+\\.\\d+\\.\\d+$' } | Remove-Item -Recurse -Force",
            "    ",
            "    Write-Host \"Merging new Chrome binaries...\" -ForegroundColor Cyan",
            "    Move-Item \"$dir\\Chrome-bin\\*\" \"$dest_app\" -Force",
            "    ",
            "    Remove-Item \"$dir\\Chrome-bin\" -Force",
            "    ",
            "    Write-Host \"Chrome binaries injected successfully. The fake placeholder has been overwritten.\" -ForegroundColor Green",
            "} else {",
            "    Write-Warning \"chrome-plus installation not found. Binaries NOT moved.\"",
            "}"
        ]
    },
    "uninstaller": {
        "script": [
            "$cp_root = $(appdir chrome-plus $global)",
            "if (Test-Path \"$cp_root\\current\\App\") {",
            "    $dest_app = \"$cp_root\\current\\App\"",
            "    Write-Host \"Removing Chrome binaries from chrome-plus...\" -ForegroundColor Yellow",
            "    if (Test-Path \"$dest_app\\chrome.exe\") { Remove-Item \"$dest_app\\chrome.exe\" -Force }",
            "    Get-ChildItem -Path \"$dest_app\" -Directory | Where-Object { $_.Name -match '^\\d+\\.\\d+\\.\\d+\\.\\d+$' } | Remove-Item -Recurse -Force",
            "    if (Test-Path \"$dest_app\\chrome_proxy.exe\") { Remove-Item \"$dest_app\\chrome_proxy.exe\" -Force }",
            "}"
        ]
    },
    "checkver": "github",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/Bush2021/chrome_installer/releases/download/$version/x64_$version_chrome_installer_uncompressed.exe#/dl.7z"
            },
            "32bit": {
                "url": "https://github.com/Bush2021/chrome_installer/releases/download/$version/x86_$version_chrome_installer_uncompressed.exe#/dl.7z"
            },
            "arm64": {
                "url": "https://github.com/Bush2021/chrome_installer/releases/download/$version/arm64_$version_chrome_installer_uncompressed.exe#/dl.7z"
            }
        }
    }
}
