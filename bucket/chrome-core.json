{
    "version": "145.0.7632.46",
    "description": "Automatically fetch Google Chrome offline installer using GitHub Actions",
    "homepage": "https://github.com/Bush2021/chrome_installer",
    "license": "MIT",
    "depends": "chrome-plus",
    "notes": "This package acts as a binary provider. It downloads and injects the official Google Chrome binaries directly into the 'rojem/chrome-plus' installation directory. It strictly requires 'chrome-plus' to be installed first.",
    "architecture": {
        "64bit": {
            "url": "https://github.com/Bush2021/chrome_installer/releases/download/145.0.7632.46/x64_145.0.7632.46_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "0c3dae7a0482d3fe931a4d6e450604d322040f4818830c5addc40db630b679f1"
        },
        "32bit": {
            "url": "https://github.com/Bush2021/chrome_installer/releases/download/145.0.7632.46/x86_145.0.7632.46_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "3841fcc412eca8cb4d2ec108f50e1841712f5dd22d11190a14f6b62248de4cd6"
        },
        "arm64": {
            "url": "https://github.com/Bush2021/chrome_installer/releases/download/145.0.7632.46/arm64_145.0.7632.46_chrome_installer_uncompressed.exe#/dl.7z",
            "hash": "56e62eb6798a16a912a324047a80a6bffe7a929c58970c28cfaeab71b97b3081"
        }
    },
    "installer": {
        "script": [
            "$cp_root = $(appdir chrome-plus $global)",
            "if (Test-Path \"$cp_root\\current\") {",
            "    $dest_app = \"$cp_root\\current\\App\"",
            "    if (-not (Test-Path \"$dest_app\")) {",
            "        New-Item \"$dest_app\" -ItemType Directory -Force | Out-Null",
            "    }",
            "    ",
            "    Write-Host \"Cleaning up old Chrome versions...\" -ForegroundColor Yellow",
            "    Get-ChildItem -Path \"$dest_app\" -Directory | Where-Object { $_.Name -match '^\\d+\\.\\d+\\.\\d+\\.\\d+$' } | Remove-Item -Recurse -Force",
            "    ",
            "    Write-Host \"Merging new Chrome binaries...\" -ForegroundColor Cyan",
            "    Move-Item \"$dir\\Chrome-bin\\*\" \"$dest_app\" -Force",
            "    ",
            "    Remove-Item \"$dir\\Chrome-bin\" -Force",
            "    ",
            "    Write-Host \"Chrome binaries injected successfully. The fake placeholder has been overwritten.\" -ForegroundColor Green",
            "} else {",
            "    Write-Warning \"chrome-plus installation not found. Binaries NOT moved.\"",
            "}"
        ]
    },
    "uninstaller": {
        "script": [
            "$cp_root = $(appdir chrome-plus $global)",
            "if (Test-Path \"$cp_root\\current\\App\") {",
            "    $dest_app = \"$cp_root\\current\\App\"",
            "    Write-Host \"Removing Chrome binaries from chrome-plus...\" -ForegroundColor Yellow",
            "    if (Test-Path \"$dest_app\\chrome.exe\") { Remove-Item \"$dest_app\\chrome.exe\" -Force }",
            "    Get-ChildItem -Path \"$dest_app\" -Directory | Where-Object { $_.Name -match '^\\d+\\.\\d+\\.\\d+\\.\\d+$' } | Remove-Item -Recurse -Force",
            "    if (Test-Path \"$dest_app\\chrome_proxy.exe\") { Remove-Item \"$dest_app\\chrome_proxy.exe\" -Force }",
            "}"
        ]
    },
    "checkver": "github",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/Bush2021/chrome_installer/releases/download/$version/x64_$version_chrome_installer_uncompressed.exe#/dl.7z"
            },
            "32bit": {
                "url": "https://github.com/Bush2021/chrome_installer/releases/download/$version/x86_$version_chrome_installer_uncompressed.exe#/dl.7z"
            },
            "arm64": {
                "url": "https://github.com/Bush2021/chrome_installer/releases/download/$version/arm64_$version_chrome_installer_uncompressed.exe#/dl.7z"
            }
        }
    }
}
