{
    "version": "1.8.7",
    "description": "A SIXEL encoder/decoder implementation derived from kmiya's sixel",
    "homepage": "https://github.com/saitoha/libsixel",
    "license": "MIT",
    "architecture": {
        "64bit": {
            "url": "https://github.com/saitoha/libsixel/releases/download/v1.8.7/libsixel-1.8.7.tar.gz",
            "hash": "a6a2c91c6f6f890c169897d4df190533fb95bde16873e6f49b265894f097c1d9"
        },
        "32bit": {
            "url": "https://github.com/saitoha/libsixel/releases/download/v1.8.7/libsixel-1.8.7.tar.gz",
            "hash": "a6a2c91c6f6f890c169897d4df190533fb95bde16873e6f49b265894f097c1d9"
        }
    },
    "depends": [
        "git",
        "mingw",
        "make"
    ],
    "installer": {
        "script": [
            "$process = Start-Process -NoNewWindow -Wait -PassThru -FilePath powershell -ArgumentList \" cd $dir; mv sixel-1.8.6\\* .; Remove-Item -Recurse -Force sixel-1.8.6; sh ./configure --host=i686-w64-mingw32; make\"",
            "$exitCode = $process.ExitCode",
            "if ($exitCode -ne 0) { scoop uninstall libsixel; echo \"Error while installing\"; exit 1 }"
        ]
    },
    "bin": [
        "converters\\img2sixel.exe",
        "converters\\sixel2png.exe"
    ],
    "checkver": {
        "github": "https://github.com/saitoha/libsixel"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/saitoha/libsixel/releases/download/v$version/libsixel-$version.tar.gz"
            },
            "32bit": {
                "url": "https://github.com/saitoha/libsixel/releases/download/v$version/libsixel-$version.tar.gz"
            }
        }
    }
}
