{
    "version": "2.7.18",
    "description": "A programming language that lets you work quickly and integrate systems more effectively.",
    "homepage": "https://www.python.org/",
    "license": "Python-2.0",
    "architecture": {
        "64bit": {
            "url": "https://www.python.org/ftp/python/2.7.18/python-2.7.18.amd64.msi",
            "hash": "md5:a425c758d38f8e28b56f4724b499239a"
        },
        "32bit": {
            "url": "https://www.python.org/ftp/python/2.7.18/python-2.7.18.msi",
            "hash": "md5:db6ad9195b3086c6b4cefb9493d738d2"
        }
    },
    "bin": [
        [
            "python.exe",
            "python2"
        ],
        [
            "Lib\\idlelib\\idle.bat",
            "idle2"
        ]
    ],
    "env_add_path": [
        "Scripts",
        "."
    ],
    "post_install": [
        "python2 -m ensurepip | Out-Null",
        "Write-Output \"$([char]0x1b)[0m\" # Reset ansi to prevent color leak from installer",
        "",
        "$create_reg = {",
        "    param($path, $value)",
        "",
        "    if ($global) {",
        "        $regBase = \"Registry::HKEY_LOCAL_MACHINE\\Software\"",
        "    } else {",
        "        $regBase = \"Registry::HKEY_CURRENT_USER\\Software\"",
        "    }",
        "",
        "    new-item -path \"$regBase\\$path\" -force | out-null",
        "    new-itemproperty -path \"$regBase\\$path\" `",
        "        -name \"(Default)\" -value \"$value\" -force | out-null",
        "}",
        "",
        "$py_cleanVersion = $version -replace '\\.'",
        "",
        "$create_reg.Invoke(\"Python\\PythonCore\\2.7\\Help\\Main Python Documentation\", `",
        "    \"$dir\\Doc\\python$py_cleanVersion.chm\")",
        "$create_reg.Invoke(\"Python\\PythonCore\\2.7\\InstallPath\", `",
        "    \"$dir\\\")",
        "$create_reg.Invoke(\"Python\\PythonCore\\2.7\\InstallPath\\InstallGroup\", `",
        "    \"Python 2.7\")",
        "$create_reg.Invoke(\"Python\\PythonCore\\2.7\\PythonPath\", `",
        "    \"$dir;$dir\\Lib;$dir\\DLLs;$dir\\Lib\\lib-tk\")"
    ],
    "post_uninstall": [
        "if ($global) {",
        "    $regBase = 'HKEY_LOCAL_MACHINE'",
        "} else {",
        "    $regBase = 'HKEY_CURRENT_USER'",
        "}",
        "",
        "$registryPath = \"Registry::$regBase\\Software\\Python\\PythonCore\\2.7\"",
        "",
        "if (test-path $registryPath) {",
        "    remove-item -path $registryPath -recurse",
        "}"
    ]
}
