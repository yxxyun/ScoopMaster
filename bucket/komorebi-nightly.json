{
    "version": "12538497425",
    "description": "A tiling window manager for Windows",
    "homepage": "https://github.com/LGUG2Z/komorebi",
    "license": {
        "identifier": "Komorebi",
        "url": "https://github.com/LGUG2Z/komorebi/blob/master/LICENSE.md"
    },
    "architecture": {
        "64bit": {
            "url": "https://nightly.link/LGUG2Z/komorebi/actions/runs/12538497425/komorebi-x86_64-pc-windows-msvc-e9bb6b43d6e2e79bba216c9d2b4fb2d90b60e084.zip",
            "hash": "bcaa1854c75c4b1a31ee02f1e1089cc8f031bbc7aeabc8d5e9ce867d1ebda6a9",
            "extract_dir": "x86_64-pc-windows-msvc/release"
        },
        "arm64": {
            "url": "https://nightly.link/LGUG2Z/komorebi/actions/runs/12538497425/komorebi-aarch64-pc-windows-msvc-e9bb6b43d6e2e79bba216c9d2b4fb2d90b60e084.zip",
            "hash": "ac72ea3c1276e9e7bcfde8af622309b11a04529b67b1daf4ddd69edc3c4443ee",
            "extract_dir": "aarch64-pc-windows-msvc/release"
        }
    },
    "persist": "config",
    "pre_install": [
        "if (!(Test-Path \"$persist_dir\\config\")) {",
        "   New-Item \"$persist_dir\\config\" -ItemType Directory | Out-Null",
        "}",
        "if (!(Test-Path \"$persist_dir\\config\\komorebi.json\")) {",
        "   Invoke-WebRequest -Uri \"https://cdn.jsdelivr.net/gh/LGUG2Z/komorebi@master/docs/komorebi.example.json\" -OutFile \"$persist_dir\\config\\komorebi.json\"-UseBasicParsing | Out-Null",
        "}",
        "if (!(Test-Path \"$persist_dir\\config\\komorebi-bar.json\")) {",
        "   Invoke-WebRequest -Uri \"https://cdn.jsdelivr.net/gh/LGUG2Z/komorebi@master/docs/komorebi.bar.example.json\" -OutFile \"$persist_dir\\config\\komorebi-bar.json\"-UseBasicParsing | Out-Null",
        "}",
        "if (!(Test-Path \"$env:USERPROFILE\\.config\\komorebi\") -or ((Get-Item \"$env:USERPROFILE\\.config\\komorebi\" -ErrorAction SilentlyContinue).Target -ne \"$persist_dir\\config\")) {",
        "   if (Test-Path \"$env:USERPROFILE\\.config\\komorebi\") {",
        "       Remove-Item \"$env:USERPROFILE\\.config\\komorebi\" -Force | Out-Null",
        "   }",
        "   New-Item \"$env:USERPROFILE\\.config\\komorebi\" -ItemType SymbolicLink -Target \"$persist_dir\\config\" | Out-Null",
        "}"
    ],
    "bin": [
        "komorebi.exe",
        "komorebi-bar.exe",
        "komorebic.exe",
        "komorebic-no-console.exe",
        "komorebi-gui.exe"
    ],
    "checkver": {
        "script": [
            "$workflow_runs = (Invoke-WebRequest 'https://api.github.com/repositories/390873100/actions/workflows/windows.yaml/runs?branch=master&status=success' -UseBasicParsing | ConvertFrom-Json).workflow_runs[0]",
            "$sha = $workflow_runs.head_sha",
            "$version = $workflow_runs.id",
            "Write-Output $version-$sha"
        ],
        "regex": "(?<version>.+)-(?<sha>.+)",
        "replace": "${version}"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://nightly.link/LGUG2Z/komorebi/actions/runs/$matchVersion/komorebi-x86_64-pc-windows-msvc-$matchSha.zip"
            },
            "arm64": {
                "url": "https://nightly.link/LGUG2Z/komorebi/actions/runs/$matchVersion/komorebi-aarch64-pc-windows-msvc-$matchSha.zip"
            }
        }
    }
}
