{
    "version": "0.9.25100",
    "description": "ADB Explorer â€“ GUI file browser for ADB-connected devices",
    "homepage": "https://github.com/Alex4SSB/ADB-Explorer",
    "license": "MIT",
    "depends": "main/adb",
    "suggest": {
        ".NET Desktop Runtime 9.0": "extras/windowsdesktop-runtime"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/Alex4SSB/ADB-Explorer/releases/download/v0.9.25100/ADB_Explorer_0.9.25100_x64.7z",
            "hash": "15cffedf569e3db6f40ed8b902cd57ed9df5afe8aa11554c136262d364ff98b7"
        },
        "arm64": {
            "url": "https://github.com/Alex4SSB/ADB-Explorer/releases/download/v0.9.25100/ADB_Explorer_0.9.25100_ARM64.7z",
            "hash": "af5f3bd197399cc684e58d5867a4d007a991c244a8850132d2e00a8edda14cef"
        }
    },
    "pre_install": [
        "$subdir = Get-ChildItem \"$dir\\net*\" -Directory | Select-Object -First 1",
        "Move-Item \"$($subdir.FullName)\\*\" $dir -Force",
        "Remove-Item $subdir.FullName -Recurse -Force",
        "if (!(Test-Path \"$dir\\App.txt\") -and !(Test-Path \"$persist_dir\\App.txt\")) { New-Item \"$dir\\App.txt\" -ItemType File | Out-Null }"
    ],
    "post_install": [
        "$configPath = \"$dir\\App.txt\"",
        "$lines = @()",
        "if (Test-Path $configPath) { $lines = Get-Content $configPath | Where-Object { $_ -notmatch '^CheckForUpdates\\s*:' } }",
        "$lines += 'CheckForUpdates:false;'",
        "Set-Content -Path $configPath -Value $lines"
    ],
    "bin": [
        [
            "ADB Explorer.exe",
            "adbexplorer",
            "$dir"
        ]
    ],
    "shortcuts": [
        [
            "ADB Explorer.exe",
            "ADB Explorer",
            "$dir"
        ]
    ],
    "persist": "App.txt",
    "pre_uninstall": "Get-Process adb -ErrorAction SilentlyContinue | Stop-Process -Force",
    "checkver": "github",
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/Alex4SSB/ADB-Explorer/releases/download/v$version/ADB_Explorer_$version_x64.7z"
            },
            "arm64": {
                "url": "https://github.com/Alex4SSB/ADB-Explorer/releases/download/v$version/ADB_Explorer_$version_ARM64.7z"
            }
        }
    }
}
