{
    "version": "25.01-v1.5.7-R2",
    "description": "Replace Total Commander's tc7z.dll, supporting 7-Zip's Zstandard (Zstd, Brotli, Lz4, Lz5, Lizard) formats.",
    "homepage": "https://github.com/mcmilk/7-Zip-zstd",
    "license": "LGPL-2.1-only",
    "suggest": {
        "Total Commander": "extras/totalcommander"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/mcmilk/7-Zip-zstd/releases/download/v25.01-v1.5.7-R2/TotalCmd.7z",
            "hash": "214b4fb44b265c49c6b1d361d41db2070a561403229e5a72d1a2c333f84ab1ed",
            "installer": {
                "script": [
                    "$TCDir = $(appdir totalcommander $global)",
                    "if (Test-Path \"$TCDir\\current\") {",
                    "    Copy-Item \"$dir\\tc7z64.dll\" \"$TCDir\\current\" -Force",
                    "} else {",
                    "    Write-Warning \"Total Commander (scoop) not found. Skipped injection.\"",
                    "}"
                ]
            }
        },
        "32bit": {
            "url": "https://github.com/mcmilk/7-Zip-zstd/releases/download/v25.01-v1.5.7-R2/TotalCmd.7z",
            "hash": "214b4fb44b265c49c6b1d361d41db2070a561403229e5a72d1a2c333f84ab1ed",
            "installer": {
                "script": [
                    "$TCDir = $(appdir totalcommander $global)",
                    "if (Test-Path \"$TCDir\\current\") {",
                    "    Copy-Item \"$dir\\tc7z.dll\" \"$TCDir\\current\" -Force",
                    "} else {",
                    "    Write-Warning \"Total Commander (scoop) not found. Skipped injection.\"",
                    "}"
                ]
            }
        },
        "arm64": {
            "url": "https://github.com/mcmilk/7-Zip-zstd/releases/download/v25.01-v1.5.7-R2/TotalCmd.7z",
            "hash": "214b4fb44b265c49c6b1d361d41db2070a561403229e5a72d1a2c333f84ab1ed",
            "installer": {
                "script": [
                    "$TCDir = $(appdir totalcommander $global)",
                    "if (Test-Path \"$TCDir\\current\") {",
                    "    Copy-Item \"$dir\\tc7zarm64.dll\" \"$TCDir\\current\" -Force",
                    "} else {",
                    "    Write-Warning \"Total Commander (scoop) not found. Skipped injection.\"",
                    "}"
                ]
            }
        }
    },
    "checkver": {
        "github": "https://github.com/mcmilk/7-Zip-zstd",
        "regex": "releases/tag/v([\\d.-]+R\\d+)"
    },
    "autoupdate": {
        "url": "https://github.com/mcmilk/7-Zip-zstd/releases/download/v$version/TotalCmd.7z"
    }
}
