{
    "version": "2.52.0.58",
    "description": "A localization modification for the game War Thunder which aims to address minor inconsistencies in Gaijin Entertainment's default vehicle names.",
    "homepage": "https://github.com/jaek898/wt-localization",
    "license": "Unknown",
    "url": "https://github.com/jaek898/wt-localization/archive/5fa9197a1f5ec7933a1bb38ed76706228671d428.zip",
    "hash": "4f1bf14047d74a62a76732ee54da56cfa9666e891a3fc35ed8e919a7fe0845ea",
    "post_install": [
        "$files = Get-ChildItem -Directory $dir | Get-ChildItem",
        "Move-Item -Destination $dir $files | Out-Null",
        "Get-ChildItem -Directory $dir | Where-Object { $_.GetFileSystemInfos().Count -eq 0 } | Remove-Item",
        "$localization_repl = @{",
        "    'Yak-41M'                  = 'Yak-41';",
        "    'XM-803'                   = 'XM803';",
        "    'XM-1'                     = 'XM1';",
        "    '(?:Ob(?:ject)?[\\s.])906' = 'PT-85';",
        "    '(?<=15C )Golden Eagle'    = 'GE';",
        "}",
        "$unitscsv = Get-ChildItem -Path $dir -Recurse -Filter units.csv",
        "foreach ($csv in $unitscsv) {",
        "    $fp = Resolve-Path $csv;",
        "    $replcsv = Get-Content $fp;",
        "    $localization_repl.Keys | ForEach-Object { $replcsv = $replcsv -replace $_, ($localization_repl[$_]) };",
        "    Set-Content -Path $fp -Value $replcsv;",
        "}"
    ],
    "checkver": {
        "url": "https://api.github.com/repositories/555204748/commits?per_page=1",
        "jsonpath": "$.[0].commit",
        "regex": "(?m)\"message\": \"(?<version>[v\\d\\.]+)\",(?:(?:[\\n\\r]|.)+)^\\s{2}\"url\": \"https?://(?:api\\.)?github\\.com.+commits/(?<sha>\\S+).,"
    },
    "autoupdate": {
        "url": "https://github.com/jaek898/wt-localization/archive/$matchSha.zip"
    },
    "notes": [
        "This manifest for Jaek's War Thunder localization modification changes mutiple vehicle names according to my personal preference.",
        "For an exhaustive list of changes please refer to the post_install section of the manifest."
    ]
}
