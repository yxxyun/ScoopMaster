{
    "version": "3.1.7-1",
    "description": "Ruby, a dynamic programming language with a focus on simplicity and productivity. (version 3.1)",
    "homepage": "https://rubyinstaller.org",
    "license": "BSD-3-Clause",
    "notes": "Run 'ridk install' to install the toolchain!",
    "depends": [
        "ruby-plain-base",
        "msys2"
    ],
    "architecture": {
        "64bit": {
            "url": "https://github.com/oneclick/rubyinstaller2/releases/download/RubyInstaller-3.1.7-1/rubyinstaller-3.1.7-1-x64.7z",
            "hash": "b4335d99e8813074c80ce4144ebe5dc48310a2a9d70d4fd78a0610d3434eaed3",
            "extract_dir": "rubyinstaller-3.1.7-1-x64"
        },
        "32bit": {
            "url": "https://github.com/oneclick/rubyinstaller2/releases/download/RubyInstaller-3.1.7-1/rubyinstaller-3.1.7-1-x86.7z",
            "hash": "45472ce01ff433fd8296b8313543435aa6ac798b14efd80e599ef413573636b5",
            "extract_dir": "rubyinstaller-3.1.7-1-x86"
        }
    },
    "post_install": [
        "Move-Item -Path \"$dir\\lib\\ruby\\gems\\3.1.0\\cache\\*\" -Destination \"$dir\\..\\..\\..\\persist\\ruby-plain-base\\gem_cache\" -Force",
        "Remove-Item \"$dir\\lib\\ruby\\gems\\3.1.0\\cache\" -Force",
        "New-Item -ItemType Junction -Path \"$dir\\lib\\ruby\\gems\\3.1.0\\cache\" -Target \"$dir\\..\\..\\..\\persist\\ruby-plain-base\\gem_cache\"",
        "echo \"**** Now installing rubygems-update-3.6.9.gem\"",
        "Start-Process -FilePath \"$dir\\bin\\gem.cmd\" -ArgumentList \"install $dir\\..\\..\\ruby-plain-base\\current\\rubygems-update-3.6.9.gem\" -NoNewWindow -Wait -Environment @{PATH=\"$dir\\bin;\"+$env:PATH}",
        "Start-Process -FilePath \"$dir\\bin\\update_rubygems.bat\" -NoNewWindow -Wait -Environment @{PATH=\"$dir\\bin;\"+$env:PATH}"
    ],
    "pre_uninstall": "Remove-Item \"$dir\\lib\\ruby\\gems\\3.1.0\\cache\"",
    "checkver": {
        "url": "https://raw.githubusercontent.com/oneclick/rubyinstaller.org-website/master/_data/downloads.yaml",
        "regex": "Ruby (3\\.1[\\d.-]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/oneclick/rubyinstaller2/releases/download/RubyInstaller-$version/rubyinstaller-$version-x64.7z",
                "extract_dir": "rubyinstaller-$version-x64"
            },
            "32bit": {
                "url": "https://github.com/oneclick/rubyinstaller2/releases/download/RubyInstaller-$version/rubyinstaller-$version-x86.7z",
                "extract_dir": "rubyinstaller-$version-x86"
            }
        },
        "hash": {
            "url": "https://raw.githubusercontent.com/oneclick/rubyinstaller.org-website/master/_data/downloads.yaml",
            "regex": "(?sm)$basename[^.].*?$sha256"
        }
    }
}
