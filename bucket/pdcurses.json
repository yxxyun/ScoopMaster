{
    "version": "3.9",
    "description": "A curses library for environments that don't fit the termcap/terminfo model.",
    "homepage": "https://pdcurses.org/",
    "license": "Public",
    "url": "https://github.com/wmcbrine/PDCurses/archive/refs/tags/3.9.zip",
    "hash": "5c2ccab1d8fbf7e2c82eac954444a6760eb949d47d6dc57e09f339d34a50ba79",
    "extract_dir": "PDCurses-3.9",
    "extract_to": "source",
    "installer": {
        "script": [
            "Push-Location \"$dir\\source\\wincon\"",
            "$bucket = (scoop bucket list | Where-Object { (Convert-RepositoryUri -Uri $_.Source) -eq \"github.com/amorphobia/ScoopSources\" }).Name",
            "Initialize-VsDevShell | Out-Null",
            "switch ($env:PROCESSOR_ARCHITECTURE) {",
            "    \"AMD64\" { $arch = \"X64\" }",
            "    \"ARM64\" { $arch = \"ARM64\" }",
            "    Default { $arch =\"X86\" }",
            "}",
            "nmake /NOLOGO /f \"$dir\\source\\wincon\\Makefile.vc\" WIDE=Y DLL=Y PLATFORM=$arch demos | Out-Null",
            "ensure \"$dir\\bin\"",
            "ensure \"$dir\\lib\"",
            "ensure \"$dir\\include\"",
            "Copy-Item -Path \"$dir\\source\\wincon\\*.lib\" -Destination \"$dir\\lib\"",
            "Copy-Item -Path \"$dir\\source\\wincon\\*.dll\",\"$dir\\source\\wincon\\*.exe\" -Destination \"$dir\\bin\"",
            "Copy-Item -Path \"$dir\\source\\curses.h\",\"$dir\\source\\panel.h\" -Destination \"$dir\\include\"",
            "nmake /NOLOGO /f \"$dir\\source\\wincon\\Makefile.vc\" WIDE=Y DLL=Y PLATFORM=$arch clean | Out-Null",
            "Pop-Location",
            "Remove-Item -Recurse -Force \"$dir\\source\" -ErrorAction SilentlyContinue"
        ]
    },
    "env_set": {
        "PDCURSES_INCLUDE_DIR": "$dir\\include",
        "PDCURSES_LIBRARY": "$dir\\lib\\pdcurses.lib"
    },
    "checkver": {
        "github": "https://github.com/wmcbrine/PDCurses"
    },
    "autoupdate": {
        "url": "https://github.com/wmcbrine/PDCurses/archive/refs/tags/$version.zip",
        "extract_dir": "PDCurses-$version"
    }
}
