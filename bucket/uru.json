{
    "homepage": "https://bitbucket.org/jonforums/uru/",
    "description": "Lightweight, multi-platform Ruby version manager",
    "license": "3-Clause BSD",

    "version": "0.8.5",
    "url": "https://bitbucket.org/jonforums/uru/downloads/uru-0.8.5-windows-x86.7z",
    "hash": "92cfb405f6b9c1658c984cf5bb71f4d0098990107ae935ce8e642f9361e70624",

    "checkver": {
        "url": "https://bitbucket.org/jonforums/uru/downloads/",
        "re": "uru-([\\d\\.]+)-windows-x86\\.7z"
    },

    "post_install": "
        Write-Host \"---> Writing uru v0.8.5 wrapper scripts to $(shimdir)\"

        $bat = @\"
@echo off
rem autogenerated by uru for use by scoop

set URU_INVOKER=batch

\"$(Join-Path \"$(appsdir)\\uru\\current\" 'uru_rt.exe')\" %*

if \"x%URU_HOME%x\"==\"xx\" (
  if exist \"%USERPROFILE%\\.uru\\uru_lackee.bat\" (call \"%USERPROFILE%\\.uru\\uru_lackee.bat\")
) else (
  if exist \"%URU_HOME%\\uru_lackee.bat\" (call \"%URU_HOME%\\uru_lackee.bat\")
)
\"@

        $ps1 = @\"
# autogenerated by uru for use by scoop

`$env:URU_INVOKER = 'powershell'

$(Join-Path \"$(appsdir)\\uru\\current\" 'uru_rt.exe') `$args

if (`$env:URU_HOME) {
  if(Test-Path \"`$env:URU_HOME\\uru_lackee.ps1\"){ & `$env:URU_HOME\\uru_lackee.ps1 }
} else {
  if(Test-Path \"`$env:USERPROFILE\\.uru\\uru_lackee.ps1\"){ & `$env:USERPROFILE\\.uru\\uru_lackee.ps1 }
}
\"@

        @{'uru.bat' = $bat; 'uru.ps1' = $ps1}.GetEnumerator() | %{
            $sw = [System.IO.StreamWriter] \"$(Join-Path $(shimdir) $_.Name)\"
            $sw.Write($_.Value)
            $sw.Close()
            $sw.Dispose()
        }
    ",
    "uninstaller": {
        "script": "
            Write-Host \"---> Deleting uru wrapper scripts from $(shimdir)\"

            $uruBat = Join-Path \"$(shimdir)\" 'uru.bat'
            $uruPs1 = Join-Path \"$(shimdir)\" 'uru.ps1'

            if (Test-Path \"$uruBat\") { Remove-Item \"$uruBat\" -force }
            if (Test-Path \"$uruPs1\") { Remove-Item \"$uruPs1\" -force }
        "
    }
}
