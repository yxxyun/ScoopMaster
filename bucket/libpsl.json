{
    "version": "0.21.5",
    "description": "C library for the Public Suffix List",
    "homepage": "https://rockdaboot.github.io/libpsl",
    "license": "MIT",
    "url": "https://github.com/rockdaboot/libpsl/releases/download/0.21.5/libpsl-0.21.5.tar.gz",
    "hash": "1dcc9ceae8b128f3c0b3f654decd0e1e891afc6ff81098f227ef260449dae208",
    "extract_dir": "libpsl-0.21.5",
    "extract_to": "source",
    "installer": {
        "script": [
            "Push-Location \"$dir\\source\\msvc\"",
            "(Get-Content config-msvc.mak) -replace '^endif$', '!endif' | Set-Content config-msvc.mak",
            "$bucket = (scoop bucket list | Where-Object { (Convert-RepositoryUri -Uri $_.Source) -eq \"github.com/amorphobia/ScoopSources\" }).Name",
            "Initialize-VsDevShell | Out-Null",
            "nmake /NOLOGO /f Makefile.vc /c CFG=release PREFIX=\"$dir\" DISABLE_RUNTIME=1 DISABLE_BUILTIN=1 install | Out-Null",
            "Remove-Item -Recurse -Force \"$dir\\source\" -ErrorAction SilentlyContinue",
            "Pop-Location"
        ]
    },
    "bin": "bin\\psl.exe",
    "env_set": {
        "LIBPSL_INCLUDE_DIR": "$dir\\include",
        "LIBPSL_LIBRARY": "$dir\\lib\\psl.lib"
    },
    "checkver": {
        "github": "https://github.com/rockdaboot/libpsl"
    },
    "autoupdate": {
        "url": "https://github.com/rockdaboot/libpsl/releases/download/$version/libpsl-$version.tar.gz",
        "extract_dir": "libpsl-$version"
    }
}
